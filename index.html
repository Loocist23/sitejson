<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Affichage JSON structuré en cartes</title>
    <style>
        .drop-area {
            border: 2px dashed #ccc;
            padding: 20px;
            width: 90%;
            margin: 20px auto;
            text-align: center;
        }

        .cards-container {
            display: flex;
            flex-wrap: wrap;
            justify-content: space-around;
            margin: 20px auto;
            width: 90%;
        }

        .card {
            background-color: #f9f9f9;
            margin: 10px;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            box-sizing: border-box;
            /* Default to full width for mobile devices */
            flex: 0 1 100%;
        }

        .header {
            font-size: 20px;
            color: #333;
            margin-bottom: 15px;
            border-bottom: 2px solid #eee;
            padding-bottom: 10px;
        }

        .item {
            margin-bottom: 5px;
        }

        .key {
            font-weight: bold;
        }

        .value {
            color: #666;
        }

        /* Responsive adjustments */
        @media (min-width: 480px) {
            /* 2 cards per row on small screens */
            .card {
                flex: 0 1 48%;
            }
        }

        @media (min-width: 768px) {
            /* 3 cards per row on medium screens and above */
            .card {
                flex: 0 1 30%;
            }
        }
    </style>
</head>
<body>
    <div id="dropArea" class="drop-area">
        <p>Glissez et déposez un fichier JSON ici</p>
    </div>
    <div id="cardsContainer" class="cards-container"></div>

    <script>
        document.getElementById('dropArea').addEventListener('dragover', (event) => {
            event.stopPropagation();
            event.preventDefault();
            event.dataTransfer.dropEffect = 'copy';
        });

        document.getElementById('dropArea').addEventListener('drop', (event) => {
            event.stopPropagation();
            event.preventDefault();
            const files = event.dataTransfer.files;
            if (files.length) {
                processFile(files[0]);
            }
        });

        function processFile(file) {
            if (file.type === "application/json") {
                const reader = new FileReader();
                reader.onload = (event) => {
                    const jsonData = JSON.parse(event.target.result);
                    displayData(jsonData);
                };
                reader.readAsText(file);
            } else {
                alert('Veuillez déposer un fichier JSON.');
            }
        }

        function createCard(title, data) {
            const card = document.createElement('div');
            card.className = 'card';
            const header = document.createElement('div');
            header.className = 'header';
            header.textContent = title;
            card.appendChild(header);

            for (const key in data) {
                const itemDiv = document.createElement('div');
                itemDiv.className = 'item';
                itemDiv.innerHTML = `<span class="key">${key}:</span> <span class="value">${data[key]}</span>`;
                card.appendChild(itemDiv);
            }

            return card;
        }

        function displayData(data) {
            const cardsContainer = document.getElementById('cardsContainer');
            cardsContainer.innerHTML = ''; // Clear previous content

            // Example categories - adjust according to your data structure
            const systemInfoData = {
                "Username": data.Username,
                "Administrator": data.Administrator,
                "Computer name": data["Computer name"],
                "OS": data.OS,
                "OS Version": data["Version"],
                "System Architecture": data["System Architecture"],
                "Initial Install Date": data["System Install Date"],
                "Scan Date": data["Scan Date"],
                "Scan ID": data["Scan ID"]
            };
            const motherboardInfoData = {
                "Motherboard Manufacturer": data["Manufacturer"],
                "Motherboard Model": data["Model"],
                "BIOS Version": data["BIOS Version"]
            };
            const cpuInfoData = {
                "CPU Model": data["CPU"],
                "CPU Cores": data["Number Of Cores"],
                "Number Of Threads": data["Number Of Threads"],
                "CPU Frequency": data["Frequency"],
                "CPU Architecture": data["Architecture"],
                "L2 Cache Size": data["L2 Cache Size"],
                "L3 Cache Size": data["L3 Cache Size"],
                "Socket": data["Socket"],
                "Virtualization": data["Virtualization"]
            };
            const gpuInfoData = {
                "GPU": data.GPU,
                "GPU Memory": data["GPU VRAM"],
                "GPU Driver Version": data["GPU Driver Version"],
                "GPU Driver Date": data["GPU Driver Date"]
            };
            const ramInfoData = {
                "RAM Manufacturer": data["RAM Manufacturer"],
                "Total RAM Amount": data["Total RAM Amount"],
                "RAM Speed": data["RAM Speed"],
                "RAM Slot": data["RAM Slot"],
                "RAM Channel": data["RAM Channel"]
            };
            const networkInfoData = {
                "IP Address": data["IP Address"],
                "Gateway": data.Gateway,
                "DNS": data.DNS,
                "DHCP": data.DHCP
            };

            cardsContainer.appendChild(createCard('System Information', systemInfoData));
            cardsContainer.appendChild(createCard('Motherboard Information', motherboardInfoData));
            cardsContainer.appendChild(createCard('CPU Information', cpuInfoData));
            cardsContainer.appendChild(createCard('RAM Information', ramInfoData));
            cardsContainer.appendChild(createCard('GPU Information', gpuInfoData));
            cardsContainer.appendChild(createCard('Network Information', networkInfoData));

            // Add more cards as needed
        }
    </script>
</body>
</html>
